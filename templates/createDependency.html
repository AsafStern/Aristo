{% extends "base.html" %}
{% block title %}createDependency{% endblock %}

{% block content %}
<style>
table, th, td {
  border: 1px solid #ddd;
  border-collapse: collapse;
  text-align: center;
}

th {
  background-color: #4CAF50;
  color: white;
  padding: 8px
}

div {
    background-color: #ffffff;
    }

.div1 {
 float:right;
  width:23%;
  height:auto;
  padding: 14px 20px;
  margin: 10px 10px 10px 10px;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  text-align: center;
  display: inline-block;
}

.div2 {
border: 1px solid #ddd;
           border-color: black;
            border-radius:10px;
             box-sizing: border-box;
height:130px;
margin-top:5px;
margin-bottom:5px;
}


input[type=submit] {
  width: 10%;
  background-color: #4CAF50;
  color: white;
  padding: 14px 20px;
  margin: 8px 0;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  text-align: center;
}

input[type=submit]:hover {
  background-color: #45a049;
}

.button {
border:None;
  color: black;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 14px;
  cursor: pointer;
  border-radius: 100px;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 3px solid #ccc;
  border-radius: 50px;
  box-sizing: border-box;
}

.button1 {background-color: f9f9f9; margin-right:5px;display: inline-block;} /* Green */

select {
background-color: #C0C0C0;
  padding: 12px 20px;
  margin: 8px 0 0 8px;
  display: inline-block;
  border: 3px solid #ccc;
  border-radius: 50px;
  box-sizing: border-box;
  float:left;
}

</style>
<form action="#" method="post" dir="rtl">
<p>&nbsp;</p>
<div dir="rtl" align="center">





<h1 align="center">אנא בחרו משימה חוסמת</h1>
</div>


    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for msg in messages %}
                <p align="center" style="font-size:16">{{msg}}</p>
            {% endfor %}
        {% endif %}
    {% endwith %}



    <div align="center">
<p>&nbsp;</p>
<p>&nbsp;</p>

    </div>
</form>

<form action="#" method="post" dir="rtl">

    <div class="div div1" style="background-color: #b30c1d;">
        <p style="font-size:28px; color:white">משימות ממתינות</p>
        {% for task in block_tasks %}
      <div class="div div2" style="background-color: #b30c1d; color:white">
        <p style="float:right; display: inline-block;margin-right:5px; ">{{task.subject[:15]}}</p>
        <p style="float:center; display: inline-block;">{{task.deadline.date()}}</p>
        <p style="float:left; margin-left:5px; display: inline-block;">{{get_user_name(task.task_owner_id).first_name}} {{get_user_name(task.task_owner_id).last_name}}</p>
        <p>&nbsp;<p/>
        <button type="submit" name="depender_task" id="depender_task" value="{{task.task_id}}" dir="rtl" class="button button1" style="float:center;">בחר משימה זו</button>
      </div>
    {% endfor %}
  </div>

  <div class="div div1" style="background-color: #6495ED; margin-right:50px;">
        <p style="font-size:28px;">משימות פתוחות</p>
    {% for task in open_tasks %}
      <div class="div div2" style="background-color: #6495ED;">
        <p style="float:right; display: inline-block;margin-right:5px; ">{{task.subject[:15]}}</p>
        <p style="float:center; display: inline-block;">{{task.deadline.date()}}</p>
        <p style="float:left; display: inline-block; margin-left:5px;">{{get_user_name(task.task_owner_id).first_name}} {{get_user_name(task.task_owner_id).last_name}}</p>
        <p>&nbsp;<p/>
        <button type="submit" name="depender_task" id="depender_task" value="{{task.task_id}}" dir="rtl" class="button button1" style="float:center;">בחר משימה זו</button>
      </div>
{% endfor %}

  </div>



  <div class="div div1" style="background-color: #fcba03">
        <p style="font-size:28px;">משימות בעבודה</p>
    {% for task in on_prog_tasks %}
      <div class="div div2" style="background-color: #fcba03;">
        <p style="float:right; display: inline-block;margin-right:5px; ">{{task.subject[:15]}}</p>
        <p style="float:center; display: inline-block;">{{task.deadline.date()}}</p>
        <p style="float:left; margin-left:5px; display: inline-block;">{{get_user_name(task.task_owner_id).first_name}} {{get_user_name(task.task_owner_id).last_name}}</p>
        <p>&nbsp;<p/>
        <button type="submit" name="depender_task" id="depender_task" value="{{task.task_id}}" dir="rtl" class="button button1" style="float:center;">בחר משימה זו</button>
      </div>
    {% endfor %}

  </div>



  <div class="div div1" style="background-color: #86B187;">
        <p style="font-size:28px;">משימות שהושלמו</p>
            {% for task in complete_tasks %}
      <div class="div div2" style="background-color: #86B187; ">
        <p style="float:right; display: inline-block;margin-right:5px; ">{{task.subject[:15]}}</p>
        <p style="float:center; display: inline-block;">{{task.deadline.date()}}</p>
        <p style="float:left; margin-left:5px; display: inline-block;">{{get_user_name(task.task_owner_id).first_name}} {{get_user_name(task.task_owner_id).last_name}}</p>
        <p>&nbsp;<p/>
        <button type="submit" name="depender_task" id="depender_task" value="{{task.task_id}}" dir="rtl" class="button button1" style="float:center;">בחר משימה זו</button>
      </div>
    {% endfor %}
  </div>


</form>
{% endblock %}